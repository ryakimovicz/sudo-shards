<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Jigsudo</title>

    <!-- Global Styles -->
    <link rel="stylesheet" href="css/global.css" />

    <!-- Module Styles -->
    <link rel="stylesheet" href="css/home.css" />
    <link rel="stylesheet" href="css/memory.css" />
    <link rel="stylesheet" href="css/jigsaw.css" />
    <link rel="stylesheet" href="css/sudoku.css" />
    <link rel="stylesheet" href="css/peaks.css" />
    <link rel="stylesheet" href="css/search.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;700&family=Lora:ital,wght@0,400;0,600;1,400&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" type="image/png" href="assets/images/favicon.png" />
  </head>
  <body>
    <!-- Main Application Container -->
    <div id="app">
      <!-- Header -->
      <header class="main-header">
        <div class="header-left">
          <h1 class="app-title">Jigsudo</h1>
          <div class="header-info">
            <span id="current-date"></span>
            <span id="challenge-num"></span>
          </div>
        </div>

        <div class="header-right">
          <button
            id="btn-stats"
            class="btn-icon"
            aria-label="Estad√≠sticas"
            data-i18n-aria="header_stats_label"
          >
            üìä
          </button>

          <div class="settings-wrapper" style="position: relative">
            <button
              id="btn-profile"
              class="btn-icon"
              aria-label="Perfil"
              data-i18n-aria="header_profile_label"
            >
              üë§
            </button>
            <!-- Profile Dropdown -->
            <div
              id="profile-dropdown"
              class="settings-dropdown glass-panel hidden"
            >
              <h3 class="dropdown-header" data-i18n="profile_header">
                M√≠ perfil
              </h3>
              <div class="dropdown-divider"></div>

              <h3 class="dropdown-header" data-i18n="profile_dark_mode">
                Modo Oscuro
              </h3>

              <!-- Auto Theme Option -->
              <div class="setting-item">
                <span class="setting-label" data-i18n="profile_auto"
                  >Autom√°tico</span
                >
                <label class="switch-small">
                  <input type="checkbox" id="auto-theme-toggle" />
                  <span class="slider-small round"></span>
                </label>
              </div>

              <!-- Manual Theme Option -->
              <div class="setting-item option-manual">
                <div class="theme-switch-wrapper">
                  <span class="theme-icon sun">‚òÄÔ∏è</span>
                  <label class="switch">
                    <input type="checkbox" id="theme-toggle" />
                    <span class="slider round"></span>
                  </label>
                  <span class="theme-icon moon">üåô</span>
                </div>
              </div>

              <div class="dropdown-divider"></div>
              <h3 class="dropdown-header" data-i18n="profile_settings">
                Ajustes
              </h3>

              <!-- Confirm Clear Toggle -->
              <div class="setting-item">
                <span class="setting-label" data-i18n="profile_quick_clear"
                  >Borrado R√°pido</span
                >
                <label class="switch-small">
                  <input type="checkbox" id="confirm-clear-toggle" />
                  <span class="slider-small round"></span>
                </label>
              </div>

              <!-- Language Option -->
              <div class="setting-item">
                <span class="setting-label" data-i18n="profile_language"
                  >Idioma</span
                >
                <select id="language-select" class="lang-select">
                  <option value="es">Espa√±ol</option>
                  <option value="en">English</option>
                </select>
              </div>
            </div>
          </div>
        </div>
      </header>

      <!-- Main Menu Content -->
      <main id="menu-content" class="menu-container">
        <div class="tabs-group">
          <!-- Tabs -->
          <div class="home-tabs">
            <button
              class="tab-btn active"
              data-tab="daily"
              data-i18n="tab_daily"
            >
              Diario
            </button>
            <button class="tab-btn" data-tab="custom" data-i18n="tab_custom">
              Personalizado
            </button>
          </div>

          <!-- Panels Container -->
          <div class="home-panels">
            <!-- Daily Panel (Default) -->
            <section
              id="panel-daily"
              class="game-description glass-panel active"
            >
              <h2 data-i18n="menu_title">Cinco desaf√≠os, un solo tablero</h2>
              <p data-i18n-html="menu_description_html">
                Todo empieza con el <strong>Juego de Memoria</strong>: encuentra
                los pares, consigue las piezas y arma el
                <strong>Rompecabezas</strong>. Solo as√≠ podr√°s enfrentar al
                <strong>Sudoku</strong>, superar los
                <strong>Picos y Valles</strong> y encontrar las secuencias
                ocultas en la <strong>Sopa de N√∫meros</strong> final.
              </p>
              <p class="tagline" data-i18n="menu_tagline">
                Tu dosis diaria de n√∫meros te est√° esperando
              </p>
            </section>

            <!-- Custom Panel (Overlay) -->
            <section
              id="panel-custom"
              class="game-description glass-panel custom-panel"
            >
              <div class="custom-content">
                <!-- Section: Difficulty -->
                <h3 class="panel-section-title" data-i18n="custom_difficulty">
                  Dificultad
                </h3>

                <div class="difficulty-wrapper">
                  <div class="segmented-control">
                    <button
                      class="seg-btn active"
                      data-diff="normal"
                      data-i18n="diff_normal"
                    >
                      Normal
                    </button>
                    <button
                      class="seg-btn"
                      data-diff="hard"
                      data-i18n="diff_hard"
                    >
                      Dif√≠cil
                    </button>
                    <button
                      class="seg-btn"
                      data-diff="extreme"
                      data-i18n="diff_extreme"
                    >
                      Extremo
                    </button>
                  </div>
                </div>

                <!-- Section: Game Modes -->
                <h3 class="panel-section-title" data-i18n="custom_modes">
                  Modos de juego
                </h3>

                <!-- Game List -->
                <div class="game-switches-list">
                  <div class="switch-row">
                    <span data-i18n="game_memory">Memory</span>
                    <label class="switch-small">
                      <input type="checkbox" checked />
                      <span class="slider-small round"></span>
                    </label>
                  </div>
                  <div class="switch-row">
                    <span data-i18n="game_jigsaw">Jigsaw</span>
                    <label class="switch-small">
                      <input type="checkbox" checked />
                      <span class="slider-small round"></span>
                    </label>
                  </div>
                  <div class="switch-row">
                    <span data-i18n="game_sudoku">Sudoku</span>
                    <label class="switch-small">
                      <input type="checkbox" checked />
                      <span class="slider-small round"></span>
                    </label>
                  </div>
                  <div class="switch-row">
                    <span data-i18n="game_peaks">Peaks</span>
                    <label class="switch-small">
                      <input type="checkbox" checked />
                      <span class="slider-small round"></span>
                    </label>
                  </div>
                  <div class="switch-row">
                    <span data-i18n="game_search">Search</span>
                    <label class="switch-small">
                      <input type="checkbox" checked />
                      <span class="slider-small round"></span>
                    </label>
                  </div>
                </div>
              </div>
            </section>
          </div>
        </div>

        <button id="start-btn" class="btn-primary" data-i18n="btn_start">
          EMPEZAR
        </button>
      </main>

      <!-- Memory Game Section -->
      <section id="memory-game" class="game-section hidden">
        <!-- TEST PANELS FOR MOBILE -->
        <div class="test-mobile-panels">
          <div class="test-panel red"></div>
          <div class="test-panel yellow"></div>
          <div class="test-panel green"></div>
        </div>

        <header class="game-header">
          <div class="header-title-container">
            <h2 data-i18n="game_memory">Juego de Memoria</h2>
            <div class="info-icon-wrapper">
              <span class="info-icon">i</span>
            </div>
            <div class="info-tooltip">
              <h3 data-i18n="memory_help_title">C√≥mo jugar</h3>
              <p data-i18n-html="memory_help_desc">
                Encuentra los pares de bloques sudoku.<br />Cada par revelado se
                colocar√° en el tablero o en tu colecci√≥n.
              </p>
            </div>
          </div>
        </header>

        <div class="memory-grid-layout">
          <!-- Center Area: Board -->
          <div class="board-wrapper">
            <div id="memory-board" class="memory-board"></div>
          </div>

          <!-- Collected Pieces Wrapper -->
          <div class="collected-wrapper">
            <div id="collected-left" class="collected-zone left"></div>
            <div id="collected-right" class="collected-zone right"></div>
          </div>

          <!-- Cards Area -->
          <div id="memory-cards" class="cards-area"></div>

          <!-- Sudoku Controls (Keypad) -->
          <div id="sudoku-controls" class="sudoku-controls hidden">
            <div class="control-row secondary">
              <button id="sudoku-back" class="btn-sudoku-action">
                <span class="icon">‚Ü©Ô∏è</span>
              </button>
              <button id="sudoku-pencil" class="btn-sudoku-action">
                <span class="icon">‚úèÔ∏è</span>
              </button>
              <button id="sudoku-clear" class="btn-sudoku-action">
                <span class="icon">üóëÔ∏è</span>
              </button>
            </div>
            <div class="control-row primary numbers">
              <button class="sudoku-num" data-value="1">1</button>
              <button class="sudoku-num" data-value="2">2</button>
              <button class="sudoku-num" data-value="3">3</button>
              <button class="sudoku-num" data-value="4">4</button>
              <button class="sudoku-num" data-value="5">5</button>
              <button class="sudoku-num" data-value="6">6</button>
              <button class="sudoku-num" data-value="7">7</button>
              <button class="sudoku-num" data-value="8">8</button>
              <button class="sudoku-num" data-value="9">9</button>
            </div>
          </div>

          <!-- Peaks Error Counter -->
          <div id="peaks-stats" class="peaks-stats hidden">
            <span class="remaining-label" data-i18n="peaks_remaining"
              >Faltan:</span
            >
            <span id="peaks-remaining-count">0</span>
            <span class="separator">|</span>
            <span class="error-label" data-i18n="peaks_errors">Errores:</span>
            <span id="peaks-error-count">0</span>
          </div>
        </div>

        <!-- Timer -->
        <div id="memory-timer" class="memory-timer">00:00</div>
      </section>

      <!-- Footer -->
      <footer class="main-footer">
        <p>
          <span data-i18n="footer_rights">¬© 2026 Rom√°n Yakimovicz</span> |
          <a href="https://github.com/ryakimovicz/" target="_blank">GitHub</a>
        </p>
      </footer>

      <!-- Sidebar Removed -->
    </div>

    <!-- Global Scripts -->
    <!-- game-manager and other modules are imported by main.js or each other. 
         Removing explicit tags to prevent double-loading (e.g. ?v=1.1 mismatch). -->

    <!-- Entry Point -->
    <script type="module" src="js/main.js"></script>
    <!-- Entry Point -->

    <!-- Confirmation Modal -->
    <div id="confirm-modal" class="modal-overlay hidden">
      <div class="modal-content glass-panel">
        <h3 id="modal-title" class="modal-title" data-i18n="modal_clear_title">
          Reiniciar Tablero
        </h3>
        <p id="modal-desc" class="modal-desc" data-i18n="modal_clear_body">
          ¬øEst√°s seguro de que quieres borrar todos los n√∫meros?
        </p>

        <div class="modal-option">
          <label class="checkbox-label">
            <input type="checkbox" id="modal-dont-ask" />
            <span class="custom-checkbox"></span>
            <span data-i18n="modal_dont_ask">No volver a preguntar</span>
          </label>
        </div>

        <div class="modal-actions">
          <button
            id="modal-cancel"
            class="btn-secondary"
            data-i18n="btn_cancel"
          >
            Cancelar
          </button>
          <button id="modal-confirm" class="btn-danger" data-i18n="btn_clear">
            Borrar
          </button>
        </div>
      </div>
    </div>

    <!-- Debug Help Button -->
    <button id="debug-help-btn" class="debug-btn" data-i18n="btn_solve">
      Resolver
    </button>
  </body>
</html>
